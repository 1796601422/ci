import React from 'react';
import './WordSelection3D.css';

interface WordSelection3DProps {
  centerWord: string;
  onCenterWordChange: (word: string) => void;
  selectedWords: string[];
  onSelectedWordsChange: (words: string[]) => void;
}

const WordSelection3D: React.FC<WordSelection3DProps> = ({
  centerWord,
  onCenterWordChange,
  selectedWords,
  onSelectedWordsChange
}) => {
  const centerWordOptions = ['国王', '医生', '学校', '快乐', '美丽', '跑步', '音乐', '家庭', '科技', '旅行', '美食', '阅读', '海洋', '森林', '城市', '时间', '梦想', '友谊', '春天', '工作', '爱情', '创造', '勇气', '小狗', '孙悟空', '猪八戒', '曹操', '刘备', '林黛玉', '贾宝玉', '武松', '李逵'];
  
  const relatedWords = {
    '国王': ['王后', '城堡', '皇冠', '权力', '统治', '贵族', '王子', '公主', '王国', '君主', '宝座', '王室', '骑士', '大臣', '宫殿', '帝王', '皇室', '臣民'],
    '医生': ['护士', '医院', '病人', '手术', '药物', '治疗', '健康', '诊断', '医疗', '救护', '病房', '医师', '临床', '处方', '康复', '医学', '疗法', '检查'],
    '学校': ['老师', '学生', '教室', '书本', '考试', '学习', '知识', '课程', '校园', '教育', '作业', '同学', '讲台', '黑板', '笔记', '毕业', '上课', '教学'],
    '快乐': ['开心', '笑容', '喜悦', '幸福', '愉快', '高兴', '欢乐', '满足', '快活', '兴奋', '愉悦', '欢喜', '乐趣', '甜蜜', '舒心', '畅快', '欣喜', '陶醉'],
    '美丽': ['漂亮', '优雅', '迷人', '动人', '秀丽', '华丽', '精美', '绚丽', '俊美', '典雅', '娇美', '端庄', '清秀', '靓丽', '风雅', '秀美', '妩媚', '娇艳'],
    '跑步': ['奔跑', '运动', '健身', '锻炼', '速度', '体育', '竞赛', '马拉松', '慢跑', '冲刺', '赛跑', '田径', '训练', '健康', '耐力', '跨步', '疾跑', '长跑'],
    '音乐': ['歌曲', '乐器', '旋律', '节拍', '演奏', '歌声', '作曲', '音符', '和声', '乐队', '歌手', '钢琴', '吉他', '小提琴', '合唱', '音响', '录音', '演唱'],
    '家庭': ['父母', '孩子', '兄弟', '姐妹', '亲情', '家人', '温暖', '团聚', '爱心', '照顾', '陪伴', '关怀', '守护', '传承', '血缘', '亲人', '家族', '和睦'],
    '科技': ['电脑', '手机', '互联网', '人工智能', '编程', '数据', '创新', '发明', '软件', '硬件', '网络', '算法', '芯片', '应用', '数字', '智能', '技术', '科学'],
    '旅行': ['出游', '风景', '探索', '冒险', '景点', '旅游', '度假', '背包', '酒店', '机票', '护照', '文化', '体验', '放松', '拍照', '纪念', '旅程', '远方'],
    '美食': ['料理', '烹饪', '食材', '味道', '餐厅', '厨师', '菜谱', '香味', '营养', '品尝', '食谱', '佳肴', '美味', '口感', '烹调', '饮食', '食物', '享受'],
    '阅读': ['书籍', '文字', '知识', '故事', '作者', '小说', '文学', '思考', '智慧', '学习', '理解', '想象', '启发', '感悟', '书页', '图书', '文章', '经典'],
    '海洋': ['大海', '波浪', '海水', '海岸', '沙滩', '鱼类', '海豚', '珊瑚', '潮汐', '深蓝', '海风', '海鸟', '船只', '航海', '海底', '贝壳', '海藻', '浪花'],
    '森林': ['树木', '绿叶', '小鸟', '动物', '空气', '阳光', '露水', '树林', '野花', '蘑菇', '松果', '溪流', '清新', '自然', '徒步', '野营', '生态', '氧气'],
    '城市': ['高楼', '街道', '交通', '人群', '繁华', '商店', '地铁', '公园', '广场', '霓虹', '建筑', '市民', '生活', '文化', '现代', '都市', '车辆', '社区'],
    '时间': ['钟表', '岁月', '历史', '未来', '过去', '现在', '秒钟', '分钟', '小时', '日子', '年华', '永恒', '瞬间', '流逝', '记忆', '变化', '节奏', '时光'],
    '梦想': ['理想', '希望', '目标', '追求', '奋斗', '成功', '实现', '愿望', '抱负', '志向', '努力', '坚持', '信念', '未来', '激情', '勇气', '创造', '超越'],
    '友谊': ['朋友', '伙伴', '信任', '分享', '陪伴', '支持', '理解', '关心', '真诚', '忠诚', '互助', '温暖', '珍贵', '永恒', '回忆', '默契', '情谊', '纯真'],
    '春天': ['花朵', '绿芽', '温暖', '生机', '樱花', '春雨', '鸟鸣', '复苏', '清香', '柳絮', '阳光', '踏青', '播种', '希望', '万物', '生长', '桃花', '春风'],
    '工作': ['职业', '事业', '同事', '办公', '会议', '项目', '责任', '努力', '成就', '团队', '任务', '目标', '专业', '技能', '效率', '合作', '挑战', '发展'],
    '爱情': ['恋人', '浪漫', '心动', '温柔', '甜蜜', '依恋', '相伴', '关怀', '深情', '牵手', '拥抱', '约会', '思念', '承诺', '永恒', '真心', '情话', '幸福'],
    '创造': ['发明', '想象', '艺术', '设计', '灵感', '原创', '创新', '构思', '表达', '作品', '美感', '独特', '才华', '突破', '实现', '创意', '制作', '诞生'],
    '勇气': ['坚强', '无畏', '勇敢', '胆量', '挑战', '面对', '克服', '坚持', '决心', '意志', '英雄', '冒险', '突破', '自信', '力量', '征服', '奋斗', '超越'],
    '小狗': ['有毛', '会叫', '是宠物', '忠诚', '可爱', '活泼', '陪伴', '摇尾巴', '散步', '玩耍', '守护', '温顺', '机灵', '听话', '亲人', '毛茸茸', '汪汪', '小动物'],
    '孙悟空': ['会变身', '有金箍棒', '打妖怪', '齐天大圣', '火眼金睛', '筋斗云', '七十二变', '花果山', '美猴王', '大闹天宫', '保护唐僧', '降妖除魔', '神通广大', '机智勇敢', '石猴', '取西经', '斗战胜佛', '本领高强'],
    '猪八戒': ['喊散伙', '背媳妇', '九齿钉耙', '天蓬元帅', '好吃懒做', '贪财好色', '憨厚老实', '高老庄', '嫦娥仙子', '投胎转世', '取西经', '二师兄', '净坛使者', '搞笑幽默', '怕困难', '爱抱怨', '善良本性', '忠心耿耿'],
    '曹操': ['政治家', '有雄心', '打天下', '魏武帝', '挟天子', '令诸侯', '统一北方', '文韬武略', '求贤若渴', '奸雄', '枭雄', '诗人', '军事家', '野心勃勃', '权谋', '乱世英雄', '三国霸主', '治世能臣'],
    '刘备': ['刘皇叔', '仁德宽厚', '双股剑', '蜀汉皇帝', '桃园结义', '三顾茅庐', '仁义之君', '爱民如子', '礼贤下士', '白帝托孤', '复兴汉室', '仁者无敌', '宽容大度', '知人善任', '仁慈善良', '皇室血统', '仁君典范', '爱哭鼻子'],
    '林黛玉': ['爱写诗', '住大观园', '多愁善感', '绛珠仙子', '还泪之说', '才华横溢', '体弱多病', '清高孤傲', '尖酸刻薄', '敏感聪慧', '诗情画意', '红颜薄命', '葬花词', '潇湘妃子', '眼泪如珠', '冰雪聪明', '孤芳自赏', '凄美动人'],
    '贾宝玉': ['荣国府公子', '厌弃科举', '通灵宝玉', '怡红公子', '贾府嫡孙', '叛逆公子', '情痴情种', '女儿国里', '富贵闲人', '温文尔雅', '多情善感', '不务正业', '诗书传家', '红楼梦主', '风流倜傥', '纨绔子弟', '痴情种子', '贵族公子'],
    '武松': ['打虎', '梁山好汉', '打抱不平', '行者武松', '景阳冈', '醉打蒋门神', '血溅鸳鸯楼', '都头', '英雄好汉', '武艺高强', '嫉恶如仇', '义薄云天', '豪侠仗义', '刚正不阿', '除暴安良', '快意恩仇', '侠肝义胆', '威震天下'],
    '李逵': ['黑旋风', '双板斧', '头脑简单', '梁山好汉', '沂岭杀四虎', '真假李逵', '为母杀虎', '忠义双全', '性格率直', '粗中有细', '孝顺母亲', '义气深重', '勇猛无敌', '天真烂漫', '单纯直率', '嫉恶如仇', '赤胆忠心', '莽撞冲动']
  };

  const unrelatedWords = ['石头', '椅子', '数字', '颜色', '声音', '时间', '空间', '方向', '机器', '电脑', '水果', '天气', '月亮', '星星', '汽车', '飞机', '树木', '花朵', '建筑', '金属'];

  const handleCenterWordSelect = (word: string) => {
    onCenterWordChange(word);
    onSelectedWordsChange([]); // 清空已选择的词语
  };

  const handleWordToggle = (word: string) => {
    if (selectedWords.includes(word)) {
      onSelectedWordsChange(selectedWords.filter(w => w !== word));
    } else {
      onSelectedWordsChange([...selectedWords, word]);
    }
  };

  const availableWords = centerWord ? 
    [...(relatedWords[centerWord as keyof typeof relatedWords] || []), ...unrelatedWords] : 
    [];

  return (
    <div className="word-selection-3d">
      <div className="center-word-section">
        <h2>🎯 选择中心词</h2>
        <p className="section-description">
          选择一个中心词，探索其他词语与它的空间关系
        </p>
        
        <div className="center-word-options">
          {centerWordOptions.map((word) => (
            <button
              key={word}
              onClick={() => handleCenterWordSelect(word)}
              className={`center-word-btn ${centerWord === word ? 'active' : ''}`}
            >
              {word}
            </button>
          ))}
        </div>
        
        {centerWord && (
          <div className="selected-center-word">
            <span className="center-label">中心词：</span>
            <span className="center-value">{centerWord}</span>
          </div>
        )}
      </div>

      {centerWord && (
        <div className="related-words-section">
          <h3>📍 选择要显示的词语</h3>
          <p className="selection-count">
            已选择：{selectedWords.length}个词语
          </p>
          
          <div className="word-categories">
            <div className="word-category">
              <h4>🔗 相关词语</h4>
              <div className="word-buttons">
                {(relatedWords[centerWord as keyof typeof relatedWords] || []).map((word) => (
                  <button
                    key={word}
                    onClick={() => handleWordToggle(word)}
                    className={`word-btn related ${selectedWords.includes(word) ? 'selected' : ''}`}
                    disabled={false}
                  >
                    {word}
                  </button>
                ))}
              </div>
            </div>
            
            <div className="word-category">
              <h4>❌ 无关词语</h4>
              <div className="word-buttons">
                {unrelatedWords.map((word) => (
                  <button
                    key={word}
                    onClick={() => handleWordToggle(word)}
                    className={`word-btn unrelated ${selectedWords.includes(word) ? 'selected' : ''}`}
                    disabled={false}
                  >
                    {word}
                  </button>
                ))}
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default WordSelection3D;
