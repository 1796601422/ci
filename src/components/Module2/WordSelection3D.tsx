import React from 'react';
import './WordSelection3D.css';

interface WordSelection3DProps {
  centerWord: string;
  onCenterWordChange: (word: string) => void;
  selectedWords: string[];
  onSelectedWordsChange: (words: string[]) => void;
}

const WordSelection3D: React.FC<WordSelection3DProps> = ({
  centerWord,
  onCenterWordChange,
  selectedWords,
  onSelectedWordsChange
}) => {
  const centerWordOptions = ['å›½ç‹', 'åŒ»ç”Ÿ', 'å­¦æ ¡', 'å¿«ä¹', 'ç¾ä¸½', 'è·‘æ­¥', 'éŸ³ä¹', 'å®¶åº­', 'ç§‘æŠ€', 'æ—…è¡Œ', 'ç¾é£Ÿ', 'é˜…è¯»', 'æµ·æ´‹', 'æ£®æ—', 'åŸå¸‚', 'æ—¶é—´', 'æ¢¦æƒ³', 'å‹è°Š', 'æ˜¥å¤©', 'å·¥ä½œ', 'çˆ±æƒ…', 'åˆ›é€ ', 'å‹‡æ°”', 'å°ç‹—', 'å­™æ‚Ÿç©º', 'çŒªå…«æˆ’', 'æ›¹æ“', 'åˆ˜å¤‡', 'æ—é»›ç‰', 'è´¾å®ç‰', 'æ­¦æ¾', 'æé€µ'];
  
  const relatedWords = {
    'å›½ç‹': ['ç‹å', 'åŸå ¡', 'çš‡å† ', 'æƒåŠ›', 'ç»Ÿæ²»', 'è´µæ—', 'ç‹å­', 'å…¬ä¸»', 'ç‹å›½', 'å›ä¸»', 'å®åº§', 'ç‹å®¤', 'éª‘å£«', 'å¤§è‡£', 'å®«æ®¿', 'å¸ç‹', 'çš‡å®¤', 'è‡£æ°‘'],
    'åŒ»ç”Ÿ': ['æŠ¤å£«', 'åŒ»é™¢', 'ç—…äºº', 'æ‰‹æœ¯', 'è¯ç‰©', 'æ²»ç–—', 'å¥åº·', 'è¯Šæ–­', 'åŒ»ç–—', 'æ•‘æŠ¤', 'ç—…æˆ¿', 'åŒ»å¸ˆ', 'ä¸´åºŠ', 'å¤„æ–¹', 'åº·å¤', 'åŒ»å­¦', 'ç–—æ³•', 'æ£€æŸ¥'],
    'å­¦æ ¡': ['è€å¸ˆ', 'å­¦ç”Ÿ', 'æ•™å®¤', 'ä¹¦æœ¬', 'è€ƒè¯•', 'å­¦ä¹ ', 'çŸ¥è¯†', 'è¯¾ç¨‹', 'æ ¡å›­', 'æ•™è‚²', 'ä½œä¸š', 'åŒå­¦', 'è®²å°', 'é»‘æ¿', 'ç¬”è®°', 'æ¯•ä¸š', 'ä¸Šè¯¾', 'æ•™å­¦'],
    'å¿«ä¹': ['å¼€å¿ƒ', 'ç¬‘å®¹', 'å–œæ‚¦', 'å¹¸ç¦', 'æ„‰å¿«', 'é«˜å…´', 'æ¬¢ä¹', 'æ»¡è¶³', 'å¿«æ´»', 'å…´å¥‹', 'æ„‰æ‚¦', 'æ¬¢å–œ', 'ä¹è¶£', 'ç”œèœœ', 'èˆ’å¿ƒ', 'ç•…å¿«', 'æ¬£å–œ', 'é™¶é†‰'],
    'ç¾ä¸½': ['æ¼‚äº®', 'ä¼˜é›…', 'è¿·äºº', 'åŠ¨äºº', 'ç§€ä¸½', 'åä¸½', 'ç²¾ç¾', 'ç»šä¸½', 'ä¿Šç¾', 'å…¸é›…', 'å¨‡ç¾', 'ç«¯åº„', 'æ¸…ç§€', 'é“ä¸½', 'é£é›…', 'ç§€ç¾', 'å¦©åªš', 'å¨‡è‰³'],
    'è·‘æ­¥': ['å¥”è·‘', 'è¿åŠ¨', 'å¥èº«', 'é”»ç‚¼', 'é€Ÿåº¦', 'ä½“è‚²', 'ç«èµ›', 'é©¬æ‹‰æ¾', 'æ…¢è·‘', 'å†²åˆº', 'èµ›è·‘', 'ç”°å¾„', 'è®­ç»ƒ', 'å¥åº·', 'è€åŠ›', 'è·¨æ­¥', 'ç–¾è·‘', 'é•¿è·‘'],
    'éŸ³ä¹': ['æ­Œæ›²', 'ä¹å™¨', 'æ—‹å¾‹', 'èŠ‚æ‹', 'æ¼”å¥', 'æ­Œå£°', 'ä½œæ›²', 'éŸ³ç¬¦', 'å’Œå£°', 'ä¹é˜Ÿ', 'æ­Œæ‰‹', 'é’¢ç´', 'å‰ä»–', 'å°æç´', 'åˆå”±', 'éŸ³å“', 'å½•éŸ³', 'æ¼”å”±'],
    'å®¶åº­': ['çˆ¶æ¯', 'å­©å­', 'å…„å¼Ÿ', 'å§å¦¹', 'äº²æƒ…', 'å®¶äºº', 'æ¸©æš–', 'å›¢èš', 'çˆ±å¿ƒ', 'ç…§é¡¾', 'é™ªä¼´', 'å…³æ€€', 'å®ˆæŠ¤', 'ä¼ æ‰¿', 'è¡€ç¼˜', 'äº²äºº', 'å®¶æ—', 'å’Œç¦'],
    'ç§‘æŠ€': ['ç”µè„‘', 'æ‰‹æœº', 'äº’è”ç½‘', 'äººå·¥æ™ºèƒ½', 'ç¼–ç¨‹', 'æ•°æ®', 'åˆ›æ–°', 'å‘æ˜', 'è½¯ä»¶', 'ç¡¬ä»¶', 'ç½‘ç»œ', 'ç®—æ³•', 'èŠ¯ç‰‡', 'åº”ç”¨', 'æ•°å­—', 'æ™ºèƒ½', 'æŠ€æœ¯', 'ç§‘å­¦'],
    'æ—…è¡Œ': ['å‡ºæ¸¸', 'é£æ™¯', 'æ¢ç´¢', 'å†’é™©', 'æ™¯ç‚¹', 'æ—…æ¸¸', 'åº¦å‡', 'èƒŒåŒ…', 'é…’åº—', 'æœºç¥¨', 'æŠ¤ç…§', 'æ–‡åŒ–', 'ä½“éªŒ', 'æ”¾æ¾', 'æ‹ç…§', 'çºªå¿µ', 'æ—…ç¨‹', 'è¿œæ–¹'],
    'ç¾é£Ÿ': ['æ–™ç†', 'çƒ¹é¥ª', 'é£Ÿæ', 'å‘³é“', 'é¤å…', 'å¨å¸ˆ', 'èœè°±', 'é¦™å‘³', 'è¥å…»', 'å“å°', 'é£Ÿè°±', 'ä½³è‚´', 'ç¾å‘³', 'å£æ„Ÿ', 'çƒ¹è°ƒ', 'é¥®é£Ÿ', 'é£Ÿç‰©', 'äº«å—'],
    'é˜…è¯»': ['ä¹¦ç±', 'æ–‡å­—', 'çŸ¥è¯†', 'æ•…äº‹', 'ä½œè€…', 'å°è¯´', 'æ–‡å­¦', 'æ€è€ƒ', 'æ™ºæ…§', 'å­¦ä¹ ', 'ç†è§£', 'æƒ³è±¡', 'å¯å‘', 'æ„Ÿæ‚Ÿ', 'ä¹¦é¡µ', 'å›¾ä¹¦', 'æ–‡ç« ', 'ç»å…¸'],
    'æµ·æ´‹': ['å¤§æµ·', 'æ³¢æµª', 'æµ·æ°´', 'æµ·å²¸', 'æ²™æ»©', 'é±¼ç±»', 'æµ·è±š', 'çŠç‘š', 'æ½®æ±', 'æ·±è“', 'æµ·é£', 'æµ·é¸Ÿ', 'èˆ¹åª', 'èˆªæµ·', 'æµ·åº•', 'è´å£³', 'æµ·è—»', 'æµªèŠ±'],
    'æ£®æ—': ['æ ‘æœ¨', 'ç»¿å¶', 'å°é¸Ÿ', 'åŠ¨ç‰©', 'ç©ºæ°”', 'é˜³å…‰', 'éœ²æ°´', 'æ ‘æ—', 'é‡èŠ±', 'è˜‘è‡', 'æ¾æœ', 'æºªæµ', 'æ¸…æ–°', 'è‡ªç„¶', 'å¾’æ­¥', 'é‡è¥', 'ç”Ÿæ€', 'æ°§æ°”'],
    'åŸå¸‚': ['é«˜æ¥¼', 'è¡—é“', 'äº¤é€š', 'äººç¾¤', 'ç¹å', 'å•†åº—', 'åœ°é“', 'å…¬å›­', 'å¹¿åœº', 'éœ“è™¹', 'å»ºç­‘', 'å¸‚æ°‘', 'ç”Ÿæ´»', 'æ–‡åŒ–', 'ç°ä»£', 'éƒ½å¸‚', 'è½¦è¾†', 'ç¤¾åŒº'],
    'æ—¶é—´': ['é’Ÿè¡¨', 'å²æœˆ', 'å†å²', 'æœªæ¥', 'è¿‡å»', 'ç°åœ¨', 'ç§’é’Ÿ', 'åˆ†é’Ÿ', 'å°æ—¶', 'æ—¥å­', 'å¹´å', 'æ°¸æ’', 'ç¬é—´', 'æµé€', 'è®°å¿†', 'å˜åŒ–', 'èŠ‚å¥', 'æ—¶å…‰'],
    'æ¢¦æƒ³': ['ç†æƒ³', 'å¸Œæœ›', 'ç›®æ ‡', 'è¿½æ±‚', 'å¥‹æ–—', 'æˆåŠŸ', 'å®ç°', 'æ„¿æœ›', 'æŠ±è´Ÿ', 'å¿—å‘', 'åŠªåŠ›', 'åšæŒ', 'ä¿¡å¿µ', 'æœªæ¥', 'æ¿€æƒ…', 'å‹‡æ°”', 'åˆ›é€ ', 'è¶…è¶Š'],
    'å‹è°Š': ['æœ‹å‹', 'ä¼™ä¼´', 'ä¿¡ä»»', 'åˆ†äº«', 'é™ªä¼´', 'æ”¯æŒ', 'ç†è§£', 'å…³å¿ƒ', 'çœŸè¯š', 'å¿ è¯š', 'äº’åŠ©', 'æ¸©æš–', 'çè´µ', 'æ°¸æ’', 'å›å¿†', 'é»˜å¥‘', 'æƒ…è°Š', 'çº¯çœŸ'],
    'æ˜¥å¤©': ['èŠ±æœµ', 'ç»¿èŠ½', 'æ¸©æš–', 'ç”Ÿæœº', 'æ¨±èŠ±', 'æ˜¥é›¨', 'é¸Ÿé¸£', 'å¤è‹', 'æ¸…é¦™', 'æŸ³çµ®', 'é˜³å…‰', 'è¸é’', 'æ’­ç§', 'å¸Œæœ›', 'ä¸‡ç‰©', 'ç”Ÿé•¿', 'æ¡ƒèŠ±', 'æ˜¥é£'],
    'å·¥ä½œ': ['èŒä¸š', 'äº‹ä¸š', 'åŒäº‹', 'åŠå…¬', 'ä¼šè®®', 'é¡¹ç›®', 'è´£ä»»', 'åŠªåŠ›', 'æˆå°±', 'å›¢é˜Ÿ', 'ä»»åŠ¡', 'ç›®æ ‡', 'ä¸“ä¸š', 'æŠ€èƒ½', 'æ•ˆç‡', 'åˆä½œ', 'æŒ‘æˆ˜', 'å‘å±•'],
    'çˆ±æƒ…': ['æ‹äºº', 'æµªæ¼«', 'å¿ƒåŠ¨', 'æ¸©æŸ”', 'ç”œèœœ', 'ä¾æ‹', 'ç›¸ä¼´', 'å…³æ€€', 'æ·±æƒ…', 'ç‰µæ‰‹', 'æ‹¥æŠ±', 'çº¦ä¼š', 'æ€å¿µ', 'æ‰¿è¯º', 'æ°¸æ’', 'çœŸå¿ƒ', 'æƒ…è¯', 'å¹¸ç¦'],
    'åˆ›é€ ': ['å‘æ˜', 'æƒ³è±¡', 'è‰ºæœ¯', 'è®¾è®¡', 'çµæ„Ÿ', 'åŸåˆ›', 'åˆ›æ–°', 'æ„æ€', 'è¡¨è¾¾', 'ä½œå“', 'ç¾æ„Ÿ', 'ç‹¬ç‰¹', 'æ‰å', 'çªç ´', 'å®ç°', 'åˆ›æ„', 'åˆ¶ä½œ', 'è¯ç”Ÿ'],
    'å‹‡æ°”': ['åšå¼º', 'æ— ç•', 'å‹‡æ•¢', 'èƒ†é‡', 'æŒ‘æˆ˜', 'é¢å¯¹', 'å…‹æœ', 'åšæŒ', 'å†³å¿ƒ', 'æ„å¿—', 'è‹±é›„', 'å†’é™©', 'çªç ´', 'è‡ªä¿¡', 'åŠ›é‡', 'å¾æœ', 'å¥‹æ–—', 'è¶…è¶Š'],
    'å°ç‹—': ['æœ‰æ¯›', 'ä¼šå«', 'æ˜¯å® ç‰©', 'å¿ è¯š', 'å¯çˆ±', 'æ´»æ³¼', 'é™ªä¼´', 'æ‘‡å°¾å·´', 'æ•£æ­¥', 'ç©è€', 'å®ˆæŠ¤', 'æ¸©é¡º', 'æœºçµ', 'å¬è¯', 'äº²äºº', 'æ¯›èŒ¸èŒ¸', 'æ±ªæ±ª', 'å°åŠ¨ç‰©'],
    'å­™æ‚Ÿç©º': ['ä¼šå˜èº«', 'æœ‰é‡‘ç®æ£’', 'æ‰“å¦–æ€ª', 'é½å¤©å¤§åœ£', 'ç«çœ¼é‡‘ç›', 'ç­‹æ–—äº‘', 'ä¸ƒåäºŒå˜', 'èŠ±æœå±±', 'ç¾çŒ´ç‹', 'å¤§é—¹å¤©å®«', 'ä¿æŠ¤å”åƒ§', 'é™å¦–é™¤é­”', 'ç¥é€šå¹¿å¤§', 'æœºæ™ºå‹‡æ•¢', 'çŸ³çŒ´', 'å–è¥¿ç»', 'æ–—æˆ˜èƒœä½›', 'æœ¬é¢†é«˜å¼º'],
    'çŒªå…«æˆ’': ['å–Šæ•£ä¼™', 'èƒŒåª³å¦‡', 'ä¹é½¿é’‰è€™', 'å¤©è“¬å…ƒå¸…', 'å¥½åƒæ‡’åš', 'è´ªè´¢å¥½è‰²', 'æ†¨åšè€å®', 'é«˜è€åº„', 'å«¦å¨¥ä»™å­', 'æŠ•èƒè½¬ä¸–', 'å–è¥¿ç»', 'äºŒå¸ˆå…„', 'å‡€å›ä½¿è€…', 'æç¬‘å¹½é»˜', 'æ€•å›°éš¾', 'çˆ±æŠ±æ€¨', 'å–„è‰¯æœ¬æ€§', 'å¿ å¿ƒè€¿è€¿'],
    'æ›¹æ“': ['æ”¿æ²»å®¶', 'æœ‰é›„å¿ƒ', 'æ‰“å¤©ä¸‹', 'é­æ­¦å¸', 'æŒŸå¤©å­', 'ä»¤è¯¸ä¾¯', 'ç»Ÿä¸€åŒ—æ–¹', 'æ–‡éŸ¬æ­¦ç•¥', 'æ±‚è´¤è‹¥æ¸´', 'å¥¸é›„', 'æ­é›„', 'è¯—äºº', 'å†›äº‹å®¶', 'é‡å¿ƒå‹ƒå‹ƒ', 'æƒè°‹', 'ä¹±ä¸–è‹±é›„', 'ä¸‰å›½éœ¸ä¸»', 'æ²»ä¸–èƒ½è‡£'],
    'åˆ˜å¤‡': ['åˆ˜çš‡å”', 'ä»å¾·å®½åš', 'åŒè‚¡å‰‘', 'èœ€æ±‰çš‡å¸', 'æ¡ƒå›­ç»“ä¹‰', 'ä¸‰é¡¾èŒ…åº', 'ä»ä¹‰ä¹‹å›', 'çˆ±æ°‘å¦‚å­', 'ç¤¼è´¤ä¸‹å£«', 'ç™½å¸æ‰˜å­¤', 'å¤å…´æ±‰å®¤', 'ä»è€…æ— æ•Œ', 'å®½å®¹å¤§åº¦', 'çŸ¥äººå–„ä»»', 'ä»æ…ˆå–„è‰¯', 'çš‡å®¤è¡€ç»Ÿ', 'ä»å›å…¸èŒƒ', 'çˆ±å“­é¼»å­'],
    'æ—é»›ç‰': ['çˆ±å†™è¯—', 'ä½å¤§è§‚å›­', 'å¤šæ„å–„æ„Ÿ', 'ç»›ç ä»™å­', 'è¿˜æ³ªä¹‹è¯´', 'æ‰åæ¨ªæº¢', 'ä½“å¼±å¤šç—…', 'æ¸…é«˜å­¤å‚²', 'å°–é…¸åˆ»è–„', 'æ•æ„Ÿèªæ…§', 'è¯—æƒ…ç”»æ„', 'çº¢é¢œè–„å‘½', 'è‘¬èŠ±è¯', 'æ½‡æ¹˜å¦ƒå­', 'çœ¼æ³ªå¦‚ç ', 'å†°é›ªèªæ˜', 'å­¤èŠ³è‡ªèµ', 'å‡„ç¾åŠ¨äºº'],
    'è´¾å®ç‰': ['è£å›½åºœå…¬å­', 'åŒå¼ƒç§‘ä¸¾', 'é€šçµå®ç‰', 'æ€¡çº¢å…¬å­', 'è´¾åºœå«¡å­™', 'å›é€†å…¬å­', 'æƒ…ç—´æƒ…ç§', 'å¥³å„¿å›½é‡Œ', 'å¯Œè´µé—²äºº', 'æ¸©æ–‡å°”é›…', 'å¤šæƒ…å–„æ„Ÿ', 'ä¸åŠ¡æ­£ä¸š', 'è¯—ä¹¦ä¼ å®¶', 'çº¢æ¥¼æ¢¦ä¸»', 'é£æµå€œå‚¥', 'çº¨ç»”å­å¼Ÿ', 'ç—´æƒ…ç§å­', 'è´µæ—å…¬å­'],
    'æ­¦æ¾': ['æ‰“è™', 'æ¢å±±å¥½æ±‰', 'æ‰“æŠ±ä¸å¹³', 'è¡Œè€…æ­¦æ¾', 'æ™¯é˜³å†ˆ', 'é†‰æ‰“è’‹é—¨ç¥', 'è¡€æº…é¸³é¸¯æ¥¼', 'éƒ½å¤´', 'è‹±é›„å¥½æ±‰', 'æ­¦è‰ºé«˜å¼º', 'å«‰æ¶å¦‚ä»‡', 'ä¹‰è–„äº‘å¤©', 'è±ªä¾ ä»—ä¹‰', 'åˆšæ­£ä¸é˜¿', 'é™¤æš´å®‰è‰¯', 'å¿«æ„æ©ä»‡', 'ä¾ è‚ä¹‰èƒ†', 'å¨éœ‡å¤©ä¸‹'],
    'æé€µ': ['é»‘æ—‹é£', 'åŒæ¿æ–§', 'å¤´è„‘ç®€å•', 'æ¢å±±å¥½æ±‰', 'æ²‚å²­æ€å››è™', 'çœŸå‡æé€µ', 'ä¸ºæ¯æ€è™', 'å¿ ä¹‰åŒå…¨', 'æ€§æ ¼ç‡ç›´', 'ç²—ä¸­æœ‰ç»†', 'å­é¡ºæ¯äº²', 'ä¹‰æ°”æ·±é‡', 'å‹‡çŒ›æ— æ•Œ', 'å¤©çœŸçƒ‚æ¼«', 'å•çº¯ç›´ç‡', 'å«‰æ¶å¦‚ä»‡', 'èµ¤èƒ†å¿ å¿ƒ', 'è½æ’å†²åŠ¨']
  };

  const unrelatedWords = ['çŸ³å¤´', 'æ¤…å­', 'æ•°å­—', 'é¢œè‰²', 'å£°éŸ³', 'æ—¶é—´', 'ç©ºé—´', 'æ–¹å‘', 'æœºå™¨', 'ç”µè„‘', 'æ°´æœ', 'å¤©æ°”', 'æœˆäº®', 'æ˜Ÿæ˜Ÿ', 'æ±½è½¦', 'é£æœº', 'æ ‘æœ¨', 'èŠ±æœµ', 'å»ºç­‘', 'é‡‘å±'];

  const handleCenterWordSelect = (word: string) => {
    onCenterWordChange(word);
    onSelectedWordsChange([]); // æ¸…ç©ºå·²é€‰æ‹©çš„è¯è¯­
  };

  const handleWordToggle = (word: string) => {
    if (selectedWords.includes(word)) {
      onSelectedWordsChange(selectedWords.filter(w => w !== word));
    } else {
      onSelectedWordsChange([...selectedWords, word]);
    }
  };

  const availableWords = centerWord ? 
    [...(relatedWords[centerWord as keyof typeof relatedWords] || []), ...unrelatedWords] : 
    [];

  return (
    <div className="word-selection-3d">
      <div className="center-word-section">
        <h2>ğŸ¯ é€‰æ‹©ä¸­å¿ƒè¯</h2>
        <p className="section-description">
          é€‰æ‹©ä¸€ä¸ªä¸­å¿ƒè¯ï¼Œæ¢ç´¢å…¶ä»–è¯è¯­ä¸å®ƒçš„ç©ºé—´å…³ç³»
        </p>
        
        <div className="center-word-options">
          {centerWordOptions.map((word) => (
            <button
              key={word}
              onClick={() => handleCenterWordSelect(word)}
              className={`center-word-btn ${centerWord === word ? 'active' : ''}`}
            >
              {word}
            </button>
          ))}
        </div>
        
        {centerWord && (
          <div className="selected-center-word">
            <span className="center-label">ä¸­å¿ƒè¯ï¼š</span>
            <span className="center-value">{centerWord}</span>
          </div>
        )}
      </div>

      {centerWord && (
        <div className="related-words-section">
          <h3>ğŸ“ é€‰æ‹©è¦æ˜¾ç¤ºçš„è¯è¯­</h3>
          <p className="selection-count">
            å·²é€‰æ‹©ï¼š{selectedWords.length}ä¸ªè¯è¯­
          </p>
          
          <div className="word-categories">
            <div className="word-category">
              <h4>ğŸ”— ç›¸å…³è¯è¯­</h4>
              <div className="word-buttons">
                {(relatedWords[centerWord as keyof typeof relatedWords] || []).map((word) => (
                  <button
                    key={word}
                    onClick={() => handleWordToggle(word)}
                    className={`word-btn related ${selectedWords.includes(word) ? 'selected' : ''}`}
                    disabled={false}
                  >
                    {word}
                  </button>
                ))}
              </div>
            </div>
            
            <div className="word-category">
              <h4>âŒ æ— å…³è¯è¯­</h4>
              <div className="word-buttons">
                {unrelatedWords.map((word) => (
                  <button
                    key={word}
                    onClick={() => handleWordToggle(word)}
                    className={`word-btn unrelated ${selectedWords.includes(word) ? 'selected' : ''}`}
                    disabled={false}
                  >
                    {word}
                  </button>
                ))}
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default WordSelection3D;
