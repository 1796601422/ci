import React from 'react';
import './SimilarityExplanation.css';

interface SimilarityExplanationProps {
  centerWord: string;
  selectedWords: string[];
}

const SimilarityExplanation: React.FC<SimilarityExplanationProps> = ({
  centerWord,
  selectedWords
}) => {
  if (!centerWord || selectedWords.length === 0) {
    return (
      <div className="similarity-explanation">
        <h3>💡 理解相似性</h3>
        <div className="explanation-empty">
          <p>选择词语后，这里将显示相似性分析和解释</p>
        </div>
      </div>
    );
  }

  // 预定义的相似性数据
  const similarityData: Record<string, Record<string, number>> = {
    '国王': {
      // 相关词语 (高相似性)
      '王后': 0.9, '城堡': 0.8, '皇冠': 0.85, '权力': 0.75, '统治': 0.7, '贵族': 0.65, '王子': 0.8, '公主': 0.8,
      '王国': 0.85, '君主': 0.9, '宝座': 0.75, '王室': 0.8, '骑士': 0.7, '大臣': 0.6, '宫殿': 0.75, '帝王': 0.85, '皇室': 0.8, '臣民': 0.6,
      // 无关词语 (低相似性)
      '石头': 0.1, '椅子': 0.15, '数字': 0.05, '颜色': 0.1, '声音': 0.05, '时间': 0.2, '空间': 0.15, '方向': 0.1,
      '机器': 0.05, '电脑': 0.1, '水果': 0.05, '天气': 0.1, '月亮': 0.15, '星星': 0.1, '汽车': 0.05, '飞机': 0.05, '树木': 0.1, '花朵': 0.2, '建筑': 0.3, '金属': 0.05
    },
    '医生': {
      // 相关词语 (高相似性)
      '护士': 0.85, '医院': 0.9, '病人': 0.8, '手术': 0.75, '药物': 0.7, '治疗': 0.8, '健康': 0.85, '诊断': 0.7,
      '医疗': 0.9, '救护': 0.8, '病房': 0.85, '医师': 0.95, '临床': 0.75, '处方': 0.7, '康复': 0.75, '医学': 0.85, '疗法': 0.8, '检查': 0.75,
      // 无关词语 (低相似性)
      '石头': 0.05, '椅子': 0.1, '数字': 0.15, '颜色': 0.05, '声音': 0.1, '时间': 0.2, '空间': 0.1, '方向': 0.05,
      '机器': 0.2, '电脑': 0.25, '水果': 0.1, '天气': 0.05, '月亮': 0.05, '星星': 0.05, '汽车': 0.1, '飞机': 0.05, '树木': 0.05, '花朵': 0.05, '建筑': 0.15, '金属': 0.1
    },
    '学校': {
      // 相关词语 (高相似性)
      '老师': 0.9, '学生': 0.9, '教室': 0.85, '书本': 0.8, '考试': 0.75, '学习': 0.85, '知识': 0.8, '课程': 0.8,
      '校园': 0.9, '教育': 0.9, '作业': 0.8, '同学': 0.85, '讲台': 0.75, '黑板': 0.7, '笔记': 0.7, '毕业': 0.8, '上课': 0.85, '教学': 0.85,
      // 无关词语 (低相似性)
      '石头': 0.05, '椅子': 0.2, '数字': 0.25, '颜色': 0.1, '声音': 0.15, '时间': 0.3, '空间': 0.2, '方向': 0.1,
      '机器': 0.1, '电脑': 0.4, '水果': 0.05, '天气': 0.05, '月亮': 0.05, '星星': 0.05, '汽车': 0.1, '飞机': 0.05, '树木': 0.1, '花朵': 0.1, '建筑': 0.5, '金属': 0.1
    },
    '快乐': {
      // 相关词语 (高相似性)
      '开心': 0.95, '笑容': 0.85, '喜悦': 0.9, '幸福': 0.9, '愉快': 0.85, '高兴': 0.9, '欢乐': 0.85, '满足': 0.8,
      '快活': 0.9, '兴奋': 0.85, '愉悦': 0.9, '欢喜': 0.85, '乐趣': 0.8, '甜蜜': 0.75, '舒心': 0.8, '畅快': 0.85, '欣喜': 0.9, '陶醉': 0.75,
      // 无关词语 (低相似性)
      '石头': 0.05, '椅子': 0.05, '数字': 0.05, '颜色': 0.2, '声音': 0.3, '时间': 0.1, '空间': 0.05, '方向': 0.05,
      '机器': 0.05, '电脑': 0.05, '水果': 0.2, '天气': 0.3, '月亮': 0.2, '星星': 0.25, '汽车': 0.1, '飞机': 0.15, '树木': 0.25, '花朵': 0.4, '建筑': 0.1, '金属': 0.05
    },
    '美丽': {
      // 相关词语 (高相似性)
      '漂亮': 0.95, '优雅': 0.85, '迷人': 0.9, '动人': 0.85, '秀丽': 0.9, '华丽': 0.8, '精美': 0.85, '绚丽': 0.85,
      '俊美': 0.9, '典雅': 0.85, '娇美': 0.9, '端庄': 0.8, '清秀': 0.85, '靓丽': 0.9, '风雅': 0.8, '秀美': 0.9, '妩媚': 0.85, '娇艳': 0.85,
      // 无关词语 (低相似性)
      '石头': 0.1, '椅子': 0.1, '数字': 0.05, '颜色': 0.6, '声音': 0.2, '时间': 0.1, '空间': 0.15, '方向': 0.05,
      '机器': 0.05, '电脑': 0.05, '水果': 0.3, '天气': 0.4, '月亮': 0.6, '星星': 0.7, '汽车': 0.2, '飞机': 0.15, '树木': 0.5, '花朵': 0.8, '建筑': 0.4, '金属': 0.1
    },
    '跑步': {
      // 相关词语 (高相似性)
      '奔跑': 0.95, '运动': 0.9, '健身': 0.85, '锻炼': 0.85, '速度': 0.8, '体育': 0.85, '竞赛': 0.8, '马拉松': 0.9,
      '慢跑': 0.9, '冲刺': 0.85, '赛跑': 0.9, '田径': 0.85, '训练': 0.8, '健康': 0.7, '耐力': 0.8, '跨步': 0.8, '疾跑': 0.9, '长跑': 0.9,
      // 无关词语 (低相似性)
      '石头': 0.05, '椅子': 0.1, '数字': 0.15, '颜色': 0.05, '声音': 0.15, '时间': 0.3, '空间': 0.4, '方向': 0.6,
      '机器': 0.1, '电脑': 0.05, '水果': 0.1, '天气': 0.2, '月亮': 0.05, '星星': 0.05, '汽车': 0.3, '飞机': 0.2, '树木': 0.2, '花朵': 0.1, '建筑': 0.1, '金属': 0.05
    },
    '音乐': {
      // 相关词语 (高相似性)
      '歌曲': 0.95, '乐器': 0.9, '旋律': 0.9, '节拍': 0.85, '演奏': 0.9, '歌声': 0.9, '作曲': 0.85, '音符': 0.85,
      '和声': 0.8, '乐队': 0.85, '歌手': 0.85, '钢琴': 0.8, '吉他': 0.8, '小提琴': 0.8, '合唱': 0.85, '音响': 0.75, '录音': 0.75, '演唱': 0.9,
      // 无关词语 (低相似性)
      '石头': 0.05, '椅子': 0.1, '数字': 0.1, '颜色': 0.2, '声音': 0.6, '时间': 0.3, '空间': 0.2, '方向': 0.05,
      '机器': 0.2, '电脑': 0.3, '水果': 0.05, '天气': 0.1, '月亮': 0.3, '星星': 0.3, '汽车': 0.1, '飞机': 0.1, '树木': 0.1, '花朵': 0.2, '建筑': 0.2, '金属': 0.1
    },
    '家庭': {
      // 相关词语 (高相似性)
      '父母': 0.9, '孩子': 0.9, '兄弟': 0.85, '姐妹': 0.85, '亲情': 0.95, '家人': 0.95, '温暖': 0.8, '团聚': 0.85,
      '爱心': 0.8, '照顾': 0.8, '陪伴': 0.8, '关怀': 0.8, '守护': 0.75, '传承': 0.7, '血缘': 0.85, '亲人': 0.9, '家族': 0.85, '和睦': 0.8,
      // 无关词语 (低相似性)
      '石头': 0.05, '椅子': 0.2, '数字': 0.1, '颜色': 0.1, '声音': 0.15, '时间': 0.4, '空间': 0.3, '方向': 0.05,
      '机器': 0.1, '电脑': 0.15, '水果': 0.2, '天气': 0.2, '月亮': 0.2, '星星': 0.2, '汽车': 0.3, '飞机': 0.1, '树木': 0.2, '花朵': 0.3, '建筑': 0.6, '金属': 0.1
    },
    '科技': {
      // 相关词语 (高相似性)
      '电脑': 0.9, '手机': 0.9, '互联网': 0.85, '人工智能': 0.9, '编程': 0.85, '数据': 0.8, '创新': 0.8, '发明': 0.8,
      '软件': 0.85, '硬件': 0.85, '网络': 0.8, '算法': 0.8, '芯片': 0.85, '应用': 0.75, '数字': 0.7, '智能': 0.85, '技术': 0.95, '科学': 0.8,
      // 无关词语 (低相似性)
      '石头': 0.05, '椅子': 0.1, '颜色': 0.1, '声音': 0.2, '时间': 0.2, '空间': 0.2, '方向': 0.1,
      '水果': 0.05, '天气': 0.1, '月亮': 0.1, '星星': 0.15, '汽车': 0.4, '飞机': 0.4, '树木': 0.05, '花朵': 0.05, '建筑': 0.3, '金属': 0.3
    },
    '旅行': {
      // 相关词语 (高相似性)
      '出游': 0.95, '风景': 0.85, '探索': 0.8, '冒险': 0.8, '景点': 0.9, '旅游': 0.95, '度假': 0.85, '背包': 0.8,
      '酒店': 0.8, '机票': 0.85, '护照': 0.85, '文化': 0.7, '体验': 0.8, '放松': 0.75, '拍照': 0.8, '纪念': 0.75, '旅程': 0.9, '远方': 0.8,
      // 无关词语 (低相似性)
      '石头': 0.1, '椅子': 0.1, '数字': 0.1, '颜色': 0.3, '声音': 0.2, '时间': 0.4, '空间': 0.5, '方向': 0.6,
      '机器': 0.1, '电脑': 0.2, '水果': 0.2, '天气': 0.4, '月亮': 0.3, '星星': 0.3, '汽车': 0.6, '飞机': 0.8, '树木': 0.4, '花朵': 0.3, '建筑': 0.5, '金属': 0.1
    },
    '美食': {
      // 相关词语 (高相似性)
      '料理': 0.9, '烹饪': 0.9, '食材': 0.85, '味道': 0.9, '餐厅': 0.8, '厨师': 0.85, '菜谱': 0.8, '香味': 0.85,
      '营养': 0.75, '品尝': 0.9, '食谱': 0.8, '佳肴': 0.9, '美味': 0.95, '口感': 0.9, '烹调': 0.85, '饮食': 0.85, '食物': 0.9, '享受': 0.8,
      // 无关词语 (低相似性)
      '石头': 0.05, '椅子': 0.15, '数字': 0.05, '颜色': 0.3, '声音': 0.2, '时间': 0.2, '空间': 0.1, '方向': 0.05,
      '机器': 0.2, '电脑': 0.1, '水果': 0.6, '天气': 0.1, '月亮': 0.05, '星星': 0.05, '汽车': 0.05, '飞机': 0.05, '树木': 0.2, '花朵': 0.2, '建筑': 0.3, '金属': 0.15
    },
    '阅读': {
      // 相关词语 (高相似性)
      '书籍': 0.95, '文字': 0.9, '知识': 0.85, '故事': 0.85, '作者': 0.8, '小说': 0.85, '文学': 0.85, '思考': 0.8,
      '智慧': 0.8, '学习': 0.85, '理解': 0.8, '想象': 0.75, '启发': 0.8, '感悟': 0.75, '书页': 0.9, '图书': 0.9, '文章': 0.85, '经典': 0.8,
      // 无关词语 (低相似性)
      '石头': 0.05, '椅子': 0.2, '数字': 0.3, '颜色': 0.1, '声音': 0.1, '时间': 0.4, '空间': 0.2, '方向': 0.05,
      '机器': 0.1, '电脑': 0.4, '水果': 0.05, '天气': 0.1, '月亮': 0.2, '星星': 0.2, '汽车': 0.05, '飞机': 0.05, '树木': 0.1, '花朵': 0.1, '建筑': 0.2, '金属': 0.05
    },
    '海洋': {
      // 相关词语 (高相似性)
      '大海': 0.95, '波浪': 0.9, '海水': 0.95, '海岸': 0.85, '沙滩': 0.8, '鱼类': 0.8, '海豚': 0.85, '珊瑚': 0.8,
      '潮汐': 0.85, '深蓝': 0.8, '海风': 0.8, '海鸟': 0.75, '船只': 0.75, '航海': 0.8, '海底': 0.85, '贝壳': 0.8, '海藻': 0.8, '浪花': 0.85,
      // 无关词语 (低相似性)
      '石头': 0.2, '椅子': 0.05, '数字': 0.05, '颜色': 0.4, '声音': 0.3, '时间': 0.2, '空间': 0.4, '方向': 0.3,
      '机器': 0.05, '电脑': 0.05, '水果': 0.1, '天气': 0.4, '月亮': 0.4, '星星': 0.4, '汽车': 0.05, '飞机': 0.1, '树木': 0.1, '花朵': 0.2, '建筑': 0.1, '金属': 0.1
    },
    '森林': {
      // 相关词语 (高相似性)
      '树木': 0.95, '绿叶': 0.9, '小鸟': 0.85, '动物': 0.85, '空气': 0.8, '阳光': 0.75, '露水': 0.8, '树林': 0.95,
      '野花': 0.85, '蘑菇': 0.8, '松果': 0.8, '溪流': 0.8, '清新': 0.85, '自然': 0.9, '徒步': 0.75, '野营': 0.8, '生态': 0.85, '氧气': 0.8,
      // 无关词语 (低相似性)
      '石头': 0.3, '椅子': 0.05, '数字': 0.05, '颜色': 0.4, '声音': 0.4, '时间': 0.2, '空间': 0.4, '方向': 0.3,
      '机器': 0.05, '电脑': 0.05, '水果': 0.3, '天气': 0.5, '月亮': 0.3, '星星': 0.3, '汽车': 0.05, '飞机': 0.05, '花朵': 0.7, '建筑': 0.1, '金属': 0.05
    },
    '城市': {
      // 相关词语 (高相似性)
      '高楼': 0.9, '街道': 0.9, '交通': 0.85, '人群': 0.85, '繁华': 0.85, '商店': 0.8, '地铁': 0.8, '公园': 0.7,
      '广场': 0.8, '霓虹': 0.8, '建筑': 0.9, '市民': 0.85, '生活': 0.8, '文化': 0.7, '现代': 0.8, '都市': 0.95, '车辆': 0.8, '社区': 0.8,
      // 无关词语 (低相似性)
      '石头': 0.2, '椅子': 0.1, '数字': 0.2, '颜色': 0.3, '声音': 0.4, '时间': 0.3, '空间': 0.4, '方向': 0.4,
      '机器': 0.3, '电脑': 0.3, '水果': 0.1, '天气': 0.2, '月亮': 0.2, '星星': 0.2, '汽车': 0.7, '飞机': 0.3, '树木': 0.3, '花朵': 0.2, '金属': 0.4
    },
    '时间': {
      // 相关词语 (高相似性)
      '钟表': 0.85, '岁月': 0.9, '历史': 0.8, '未来': 0.85, '过去': 0.85, '现在': 0.85, '秒钟': 0.9, '分钟': 0.9,
      '小时': 0.85, '日子': 0.8, '年华': 0.85, '永恒': 0.8, '瞬间': 0.8, '流逝': 0.85, '记忆': 0.75, '变化': 0.75, '节奏': 0.7, '时光': 0.9,
      // 无关词语 (低相似性)
      '石头': 0.1, '椅子': 0.1, '数字': 0.4, '颜色': 0.1, '声音': 0.2, '空间': 0.3, '方向': 0.2,
      '机器': 0.2, '电脑': 0.3, '水果': 0.05, '天气': 0.3, '月亮': 0.3, '星星': 0.3, '汽车': 0.2, '飞机': 0.2, '树木': 0.2, '花朵': 0.1, '建筑': 0.2, '金属': 0.1
    },
    '梦想': {
      // 相关词语 (高相似性)
      '理想': 0.95, '希望': 0.9, '目标': 0.85, '追求': 0.9, '奋斗': 0.85, '成功': 0.8, '实现': 0.85, '愿望': 0.9,
      '抱负': 0.85, '志向': 0.85, '努力': 0.8, '坚持': 0.8, '信念': 0.8, '未来': 0.8, '激情': 0.8, '勇气': 0.75, '创造': 0.75, '超越': 0.8,
      // 无关词语 (低相似性)
      '石头': 0.05, '椅子': 0.05, '数字': 0.1, '颜色': 0.2, '声音': 0.2, '时间': 0.4, '空间': 0.3, '方向': 0.3,
      '机器': 0.1, '电脑': 0.1, '水果': 0.05, '天气': 0.2, '月亮': 0.4, '星星': 0.5, '汽车': 0.1, '飞机': 0.2, '树木': 0.1, '花朵': 0.3, '建筑': 0.2, '金属': 0.05
    },
    '友谊': {
      // 相关词语 (高相似性)
      '朋友': 0.95, '伙伴': 0.9, '信任': 0.85, '分享': 0.8, '陪伴': 0.85, '支持': 0.8, '理解': 0.8, '关心': 0.85,
      '真诚': 0.85, '忠诚': 0.8, '互助': 0.8, '温暖': 0.75, '珍贵': 0.8, '永恒': 0.75, '回忆': 0.75, '默契': 0.8, '情谊': 0.9, '纯真': 0.8,
      // 无关词语 (低相似性)
      '石头': 0.05, '椅子': 0.05, '数字': 0.05, '颜色': 0.2, '声音': 0.3, '时间': 0.4, '空间': 0.2, '方向': 0.05,
      '机器': 0.05, '电脑': 0.1, '水果': 0.1, '天气': 0.1, '月亮': 0.2, '星星': 0.2, '汽车': 0.05, '飞机': 0.05, '树木': 0.1, '花朵': 0.3, '建筑': 0.1, '金属': 0.05
    },
    '春天': {
      // 相关词语 (高相似性)
      '花朵': 0.9, '绿芽': 0.9, '温暖': 0.8, '生机': 0.85, '樱花': 0.85, '春雨': 0.85, '鸟鸣': 0.8, '复苏': 0.85,
      '清香': 0.8, '柳絮': 0.8, '阳光': 0.8, '踏青': 0.85, '播种': 0.8, '希望': 0.75, '万物': 0.8, '生长': 0.85, '桃花': 0.85, '春风': 0.85,
      // 无关词语 (低相似性)
      '石头': 0.1, '椅子': 0.05, '数字': 0.05, '颜色': 0.4, '声音': 0.3, '时间': 0.3, '空间': 0.2, '方向': 0.1,
      '机器': 0.05, '电脑': 0.05, '水果': 0.3, '天气': 0.6, '月亮': 0.2, '星星': 0.2, '汽车': 0.05, '飞机': 0.05, '树木': 0.7, '建筑': 0.1, '金属': 0.05
    },
    '工作': {
      // 相关词语 (高相似性)
      '职业': 0.9, '事业': 0.85, '同事': 0.8, '办公': 0.85, '会议': 0.8, '项目': 0.8, '责任': 0.75, '努力': 0.8,
      '成就': 0.8, '团队': 0.8, '任务': 0.85, '目标': 0.8, '专业': 0.8, '技能': 0.75, '效率': 0.75, '合作': 0.8, '挑战': 0.75, '发展': 0.8,
      // 无关词语 (低相似性)
      '石头': 0.05, '椅子': 0.2, '数字': 0.3, '颜色': 0.1, '声音': 0.2, '时间': 0.5, '空间': 0.3, '方向': 0.2,
      '机器': 0.3, '电脑': 0.6, '水果': 0.05, '天气': 0.1, '月亮': 0.05, '星星': 0.05, '汽车': 0.2, '飞机': 0.1, '树木': 0.05, '花朵': 0.1, '建筑': 0.4, '金属': 0.2
    },
    '爱情': {
      // 相关词语 (高相似性)
      '恋人': 0.9, '浪漫': 0.9, '心动': 0.85, '温柔': 0.8, '甜蜜': 0.85, '依恋': 0.8, '相伴': 0.8, '关怀': 0.8,
      '深情': 0.85, '牵手': 0.85, '拥抱': 0.8, '约会': 0.8, '思念': 0.8, '承诺': 0.8, '永恒': 0.75, '真心': 0.85, '情话': 0.8, '幸福': 0.8,
      // 无关词语 (低相似性)
      '石头': 0.05, '椅子': 0.05, '数字': 0.05, '颜色': 0.3, '声音': 0.3, '时间': 0.4, '空间': 0.2, '方向': 0.05,
      '机器': 0.05, '电脑': 0.05, '水果': 0.2, '天气': 0.2, '月亮': 0.6, '星星': 0.6, '汽车': 0.1, '飞机': 0.1, '树木': 0.2, '花朵': 0.7, '建筑': 0.1, '金属': 0.05
    },
    '创造': {
      // 相关词语 (高相似性)
      '发明': 0.9, '想象': 0.85, '艺术': 0.85, '设计': 0.85, '灵感': 0.9, '原创': 0.9, '创新': 0.95, '构思': 0.85,
      '表达': 0.8, '作品': 0.85, '美感': 0.8, '独特': 0.8, '才华': 0.8, '突破': 0.8, '实现': 0.75, '创意': 0.95, '制作': 0.8, '诞生': 0.8,
      // 无关词语 (低相似性)
      '石头': 0.1, '椅子': 0.1, '数字': 0.2, '颜色': 0.4, '声音': 0.3, '时间': 0.3, '空间': 0.3, '方向': 0.1,
      '机器': 0.3, '电脑': 0.4, '水果': 0.05, '天气': 0.1, '月亮': 0.2, '星星': 0.2, '汽车': 0.2, '飞机': 0.2, '树木': 0.2, '花朵': 0.4, '建筑': 0.5, '金属': 0.2
    },
    '勇气': {
      // 相关词语 (高相似性)
      '坚强': 0.9, '无畏': 0.95, '勇敢': 0.95, '胆量': 0.9, '挑战': 0.85, '面对': 0.8, '克服': 0.85, '坚持': 0.8,
      '决心': 0.85, '意志': 0.85, '英雄': 0.8, '冒险': 0.85, '突破': 0.8, '自信': 0.8, '力量': 0.85, '征服': 0.8, '奋斗': 0.8, '超越': 0.8,
      // 无关词语 (低相似性)
      '石头': 0.1, '椅子': 0.05, '数字': 0.05, '颜色': 0.1, '声音': 0.2, '时间': 0.3, '空间': 0.3, '方向': 0.3,
      '机器': 0.1, '电脑': 0.1, '水果': 0.05, '天气': 0.2, '月亮': 0.2, '星星': 0.3, '汽车': 0.2, '飞机': 0.3, '树木': 0.1, '花朵': 0.1, '建筑': 0.2, '金属': 0.1
    }
  };

  const centerSimilarities = similarityData[centerWord] || {};
  
  const wordsWithSimilarity = selectedWords.map(word => ({
    word,
    similarity: centerSimilarities[word] || 0,
    isRelated: (centerSimilarities[word] || 0) >= 0.6  // 调整阈值为0.6，更准确地区分相关和不相关
  })).sort((a, b) => b.similarity - a.similarity);

  const relatedWords = wordsWithSimilarity.filter(w => w.isRelated);
  const unrelatedWords = wordsWithSimilarity.filter(w => !w.isRelated);

  const getSimilarityColor = (similarity: number) => {
    if (similarity >= 0.8) return '#10b981'; // 高相似性 - 绿色
    if (similarity >= 0.6) return '#f59e0b'; // 中等相似性 - 橙色
    if (similarity >= 0.3) return '#ef4444'; // 低相似性 - 红色
    return '#6b7280'; // 无关 - 灰色
  };

  const getSimilarityLabel = (similarity: number) => {
    if (similarity >= 0.8) return '高度相关';
    if (similarity >= 0.6) return '中度相关';
    if (similarity >= 0.3) return '弱相关';
    return '不相关';
  };

  return (
    <div className="similarity-explanation">
      <h3>💡 相似性分析</h3>
      
      <div className="center-word-info">
        <span className="center-word-label">中心词：</span>
        <span className="center-word-value">{centerWord}</span>
      </div>

      <div className="similarity-stats">
        <div className="stat-item">
          <span className="stat-number">{relatedWords.length}</span>
          <span className="stat-label">相关词语</span>
        </div>
        <div className="stat-item">
          <span className="stat-number">{unrelatedWords.length}</span>
          <span className="stat-label">无关词语</span>
        </div>
        <div className="stat-item">
          <span className="stat-number">
            {selectedWords.length > 0 ? 
              (wordsWithSimilarity.reduce((sum, w) => sum + w.similarity, 0) / selectedWords.length * 100).toFixed(0) + '%' 
              : '0%'
            }
          </span>
          <span className="stat-label">平均相似度</span>
        </div>
      </div>

      <div className="words-analysis">
        {relatedWords.length > 0 && (
          <div className="word-group">
            <h4 className="group-title related">🔗 相关词语</h4>
            <div className="word-list">
              {relatedWords.map(({ word, similarity }) => (
                <div key={word} className="word-item">
                  <span className="word-name">{word}</span>
                  <div className="similarity-bar">
                    <div 
                      className="similarity-fill"
                      style={{ 
                        width: `${similarity * 100}%`,
                        backgroundColor: getSimilarityColor(similarity)
                      }}
                    />
                  </div>
                  <span 
                    className="similarity-value"
                    style={{ color: getSimilarityColor(similarity) }}
                  >
                    {(similarity * 100).toFixed(0)}%
                  </span>
                  <span className="similarity-label">
                    {getSimilarityLabel(similarity)}
                  </span>
                </div>
              ))}
            </div>
          </div>
        )}

        {unrelatedWords.length > 0 && (
          <div className="word-group">
            <h4 className="group-title unrelated">❌ 无关词语</h4>
            <div className="word-list">
              {unrelatedWords.map(({ word, similarity }) => (
                <div key={word} className="word-item">
                  <span className="word-name">{word}</span>
                  <div className="similarity-bar">
                    <div 
                      className="similarity-fill"
                      style={{ 
                        width: `${similarity * 100}%`,
                        backgroundColor: getSimilarityColor(similarity)
                      }}
                    />
                  </div>
                  <span 
                    className="similarity-value"
                    style={{ color: getSimilarityColor(similarity) }}
                  >
                    {(similarity * 100).toFixed(0)}%
                  </span>
                  <span className="similarity-label">
                    {getSimilarityLabel(similarity)}
                  </span>
                </div>
              ))}
            </div>
          </div>
        )}
      </div>

      <div className="explanation-theory">
        <h4>📚 原理解释</h4>
        <p>
          <strong>空间距离 = 语义距离</strong><br/>
          在3D空间中，相似的词语靠得更近，不相似的词语距离更远。
          这帮助我们直观理解词语之间的语义关系。
        </p>
      </div>
    </div>
  );
};

export default SimilarityExplanation;
